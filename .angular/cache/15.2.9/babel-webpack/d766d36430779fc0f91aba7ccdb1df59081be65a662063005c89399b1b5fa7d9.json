{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../mihttp.service\";\nimport * as i2 from \"@angular/router\";\nexport class LoginComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.error = \"\";\n  }\n  login(nombre, contraseña) {\n    const url = \"http://localhost:3000/usuarios/login\";\n    var datos = {\n      correo: nombre,\n      contraseña: contraseña\n    };\n    return this.http.login(datos).subscribe({\n      next: data => {\n        this.error = \"\";\n        localStorage.setItem(\"jwt\", JSON.parse(JSON.stringify(data)));\n        console.log(localStorage.getItem(\"jwt\"));\n        this.router.navigate([\"/inicio\"]);\n      },\n      error: error => {\n        console.log(error);\n        this.error = JSON.parse(JSON.stringify(error)).error.text;\n      }\n    });\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.MihttpService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 17,\n  vars: 1,\n  consts: [[\"id\", \"btn-menu\", \"routerLink\", \"/inicio\"], [1, \"login-container\"], [1, \"login\"], [\"id\", \"title\"], [\"id\", \"name\", \"placeholder\", \"Correo\"], [\"name\", \"\"], [\"id\", \"password\", \"placeholder\", \"Contrase\\u00F1a\", \"type\", \"password\"], [\"password\", \"\"], [\"id\", \"btn\", 3, \"click\"], [2, \"color\", \"red\"], [\"id\", \"link\", \"routerLink\", \"/registro\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r2 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"body\")(1, \"button\", 0);\n      i0.ɵɵtext(2, \"Volver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"p\", 3);\n      i0.ɵɵtext(6, \"Inicio de sesi\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 4, 5)(9, \"input\", 6, 7);\n      i0.ɵɵelementStart(11, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_11_listener() {\n        i0.ɵɵrestoreView(_r2);\n        const _r0 = i0.ɵɵreference(8);\n        const _r1 = i0.ɵɵreference(10);\n        return i0.ɵɵresetView(ctx.login(_r0.value, _r1.value));\n      });\n      i0.ɵɵtext(12, \"Iniciar Sesi\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"p\", 9);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"a\", 10);\n      i0.ɵɵtext(16, \"\\u00BFNo ten\\u00E9s cuenta?\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵtextInterpolate(ctx.error);\n    }\n  },\n  dependencies: [i2.RouterLink],\n  styles: [\"body[_ngcontent-%COMP%]{\\n    font-family: 'Montserrat', sans-serif;\\n}\\n.login-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    height: 50vh;\\n}\\n\\n.login[_ngcontent-%COMP%]{\\n    margin: auto;\\n    display: grid ;\\n    place-items: center;\\n    \\n    height: 100px;\\n    width: 100vw;\\n\\n    color: #333;\\n}\\n#name[_ngcontent-%COMP%], #password[_ngcontent-%COMP%]{\\n    height: 7.5vh;\\n    width: 30vw;\\n    margin-bottom: 5vh;\\n    border-radius: 20px;\\n}\\n#title[_ngcontent-%COMP%]{\\n    font-size: xx-large;\\n}\\n#btn-menu[_ngcontent-%COMP%]{\\n    border-radius: 20px;\\n    transition: ease-in-out .3s;\\n    background-color: white;\\n    height: 5vh;\\n    width: 5vw;\\n}\\n#btn-menu[_ngcontent-%COMP%]:hover{\\n    color: white;\\n    background-color: black;\\n    transition: ease-in-out .3s;\\n    cursor: pointer;\\n}\\n\\n#btn[_ngcontent-%COMP%]{\\n    height: 7.5vh;\\n    width: 20vw;\\n    font-size: 1.3vw;\\n    border-radius: 20px;\\n    transition: ease-in-out .3s;\\n    margin-bottom: 5vh;\\n    background-color: white;\\n}\\n#btn[_ngcontent-%COMP%]:hover{\\n    color: white;\\n    background-color: black;\\n    transition: ease-in-out .3s;\\n    cursor: pointer;\\n}\\n#link[_ngcontent-%COMP%]{\\n    text-decoration: none;\\n    color: black;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFDQUFxQztBQUN6QztBQUNBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixjQUFjO0lBQ2QsbUJBQW1COztJQUVuQixhQUFhO0lBQ2IsWUFBWTs7SUFFWixXQUFXO0FBQ2Y7QUFDQTtJQUNJLGFBQWE7SUFDYixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLG1CQUFtQjtBQUN2QjtBQUNBO0lBQ0ksbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxtQkFBbUI7SUFDbkIsMkJBQTJCO0lBQzNCLHVCQUF1QjtJQUN2QixXQUFXO0lBQ1gsVUFBVTtBQUNkO0FBQ0E7SUFDSSxZQUFZO0lBQ1osdUJBQXVCO0lBQ3ZCLDJCQUEyQjtJQUMzQixlQUFlO0FBQ25COztBQUVBO0lBQ0ksYUFBYTtJQUNiLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLDJCQUEyQjtJQUMzQixrQkFBa0I7SUFDbEIsdUJBQXVCO0FBQzNCO0FBQ0E7SUFDSSxZQUFZO0lBQ1osdUJBQXVCO0lBQ3ZCLDJCQUEyQjtJQUMzQixlQUFlO0FBQ25CO0FBQ0E7SUFDSSxxQkFBcUI7SUFDckIsWUFBWTtBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbImJvZHl7XG4gICAgZm9udC1mYW1pbHk6ICdNb250c2VycmF0Jywgc2Fucy1zZXJpZjtcbn1cbi5sb2dpbi1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBoZWlnaHQ6IDUwdmg7XG59XG5cbi5sb2dpbntcbiAgICBtYXJnaW46IGF1dG87XG4gICAgZGlzcGxheTogZ3JpZCA7XG4gICAgcGxhY2UtaXRlbXM6IGNlbnRlcjtcbiAgICBcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIHdpZHRoOiAxMDB2dztcblxuICAgIGNvbG9yOiAjMzMzO1xufVxuI25hbWUsI3Bhc3N3b3Jke1xuICAgIGhlaWdodDogNy41dmg7XG4gICAgd2lkdGg6IDMwdnc7XG4gICAgbWFyZ2luLWJvdHRvbTogNXZoO1xuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG59XG4jdGl0bGV7XG4gICAgZm9udC1zaXplOiB4eC1sYXJnZTtcbn1cbiNidG4tbWVudXtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIHRyYW5zaXRpb246IGVhc2UtaW4tb3V0IC4zcztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBoZWlnaHQ6IDV2aDtcbiAgICB3aWR0aDogNXZ3O1xufVxuI2J0bi1tZW51OmhvdmVye1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgICB0cmFuc2l0aW9uOiBlYXNlLWluLW91dCAuM3M7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4jYnRue1xuICAgIGhlaWdodDogNy41dmg7XG4gICAgd2lkdGg6IDIwdnc7XG4gICAgZm9udC1zaXplOiAxLjN2dztcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIHRyYW5zaXRpb246IGVhc2UtaW4tb3V0IC4zcztcbiAgICBtYXJnaW4tYm90dG9tOiA1dmg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG4jYnRuOmhvdmVye1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgICB0cmFuc2l0aW9uOiBlYXNlLWluLW91dCAuM3M7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuI2xpbmt7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIGNvbG9yOiBibGFjaztcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac\n});","map":{"version":3,"mappings":";;;;AASA,OAAM,MAAOA,cAAc;EAIzBC,YAAoBC,IAAmB,EAAUC,MAAc;IAA3C,SAAI,GAAJD,IAAI;IAAyB,WAAM,GAANC,MAAM;IACrD,IAAI,CAACC,KAAK,GAAG,EAAE;EACjB;EAEOC,KAAK,CAACC,MAAc,EAAEC,UAAkB;IAC7C,MAAMC,GAAG,GAAG,sCAAsC;IAClD,IAAIC,KAAK,GAAG;MACVC,MAAM,EAAEJ,MAAM;MACdC,UAAU,EAAEA;KACb;IAED,OAAO,IAAI,CAACL,IAAI,CAACG,KAAK,CAACI,KAAK,CAAC,CAACE,SAAS,CAAC;MACtCC,IAAI,EAAGC,IAAS,IAAI;QAClB,IAAI,CAACT,KAAK,GAAG,EAAE;QACfU,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACL,IAAI,CAAC,CAAC,CAAC;QAC7DM,OAAO,CAACC,GAAG,CAACN,YAAY,CAACO,OAAO,CAAC,KAAK,CAAC,CAAC;QACxC,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;MACnC,CAAC;MACDlB,KAAK,EAAGA,KAAU,IAAI;QACpBe,OAAO,CAACC,GAAG,CAAChB,KAAK,CAAC;QAClB,IAAI,CAACA,KAAK,GAAGY,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACd,KAAK,CAAC,CAAC,CAACA,KAAK,CAACmB,IAAI;MAE3D;KACD,CAAC;EACJ;;SA5BWvB,cAAc;;mBAAdA,MAAc;AAAA;;QAAdA,MAAc;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MCT3BC,4BAAM;MACyCA,sBAAM;MAAAA,iBAAS;MAC1DA,8BAA6B;MAEPA,qCAAgB;MAAAA,iBAAI;MAClCA,8BAA4C;MAE5CA,kCAA2D;MAAnDA;QAAAA;QAAA;QAAA;QAAA,OAASA,8CAAgC;MAAA,EAAC;MAASA,oCAAc;MAAAA,iBAAS;MAClFA,6BAAuB;MAAAA,aAAS;MAAAA,iBAAI;MACpCA,8BAAoC;MAAAA,4CAAiB;MAAAA,iBAAI;;;MADlCA,gBAAS;MAATA,+BAAS;;;;;;;SDC/B7B,MAAc;EAAA8B,SAAd9B,MAAc;AAAA","names":["LoginComponent","constructor","http","router","error","login","nombre","contraseña","url","datos","correo","subscribe","next","data","localStorage","setItem","JSON","parse","stringify","console","log","getItem","navigate","text","selectors","decls","vars","consts","template","i0","factory"],"sourceRoot":"","sources":["/home/tempbruh/Escritorio/PetMatchFront/PSR2023-Giercowski-Gonzalez-Front/src/app/login/login.component.ts","/home/tempbruh/Escritorio/PetMatchFront/PSR2023-Giercowski-Gonzalez-Front/src/app/login/login.component.html"],"sourcesContent":["import { Component, Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MihttpService } from '../mihttp.service';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\n@Injectable()\nexport class LoginComponent {\n\n  error: String\n\n  constructor(private http: MihttpService, private router: Router) {\n    this.error = \"\"\n  }\n\n  public login(nombre: string, contraseña: string) {\n    const url = \"http://localhost:3000/usuarios/login\"\n    var datos = {\n      correo: nombre,\n      contraseña: contraseña\n    }\n\n    return this.http.login(datos).subscribe({\n      next: (data: any) => {\n        this.error = \"\"\n        localStorage.setItem(\"jwt\", JSON.parse(JSON.stringify(data)))\n        console.log(localStorage.getItem(\"jwt\"))\n        this.router.navigate([\"/inicio\"])\n      },\n      error: (error: any) => {\n        console.log(error)\n        this.error = JSON.parse(JSON.stringify(error)).error.text\n        \n      }\n    });\n  }\n}","<body>\n    <button id=\"btn-menu\" routerLink=\"/inicio\">Volver</button>\n    <div class=\"login-container\">\n        <div class=\"login\">\n            <p id=\"title\">Inicio de sesión</p>\n            <input #name id=\"name\" placeholder=\"Correo\">\n            <input #password id=\"password\" placeholder=\"Contraseña\" type=\"password\">\n            <button (click)=\"login(name.value,password.value)\"id=\"btn\">Iniciar Sesión</button>\n            <p style=\"color: red;\">{{error}}</p>\n            <a id=\"link\" routerLink=\"/registro\">¿No tenés cuenta?</a>\n            \n        </div>\n    </div>\n</body>\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}